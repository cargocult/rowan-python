<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Requests, Responses and Errors &mdash; Rowan v0.1 documentation</title>
    <link rel="stylesheet" href="../static/default.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="top" title="Rowan v0.1 documentation" href="../index.html" />
    <link rel="next" title="Application" href="application.html" />
    <link rel="prev" title="Basic Controllers" href="controllers.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="application.html" title="Application"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="controllers.html" title="Basic Controllers"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Rowan v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-rowan.core.http">
<h1>Requests, Responses and Errors<a class="headerlink" href="#module-rowan.core.http" title="Permalink to this headline">¶</a></h1>
<p>This module contains classes that encapsulate the user&#8217;s request 
(<a title="rowan.core.http.HttpRequest" class="reference internal" href="#rowan.core.http.HttpRequest"><tt class="xref docutils literal"><span class="pre">HttpRequest</span></tt></a>), and either a normal response (<a title="rowan.core.http.HttpResponse" class="reference internal" href="#rowan.core.http.HttpResponse"><tt class="xref docutils literal"><span class="pre">HttpResponse</span></tt></a>)
or an error (<a title="rowan.core.http.HttpError" class="reference internal" href="#rowan.core.http.HttpError"><tt class="xref docutils literal"><span class="pre">HttpError</span></tt></a>).</p>
<dl class="class">
<dt id="rowan.core.http.HttpRequest">
<em class="property">
class </em><tt class="descclassname">rowan.core.http.</tt><tt class="descname">HttpRequest</tt><big>(</big><em>wsgi_env</em><big>)</big><a class="headerlink" href="#rowan.core.http.HttpRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a title="rowan.core.utils.blackboard.Blackboard" class="reference external" href="blackboard.html#rowan.core.utils.blackboard.Blackboard"><tt class="xref docutils literal"><span class="pre">rowan.core.utils.blackboard.Blackboard</span></tt></a></p>
<p>Encapsulates data about the request that the user initiated. The
request contains data such as the  HTTP method, the path requested
and the IP address of the requesting machine (although this later
value may be spoofed or mangled by proxies). It also contains
any additional data that parts of the tree want to set for controllers
lower down the tree.</p>
<dl class="attribute">
<dt id="rowan.core.http.HttpRequest.body_raw">
<tt class="descname">body_raw</tt><a class="headerlink" href="#rowan.core.http.HttpRequest.body_raw" title="Permalink to this definition">¶</a></dt>
<dd>The raw data from the body of the request. This data is more commonly accessed through the <tt class="docutils literal"><span class="pre">body_params</span></tt> property, but in some cases we want the raw input.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="rowan.core.http.HttpResponse">
<em class="property">
class </em><tt class="descclassname">rowan.core.http.</tt><tt class="descname">HttpResponse</tt><big>(</big><em>content</em>, <em>content_type='text/html'</em>, <em>status_code=200</em><big>)</big><a class="headerlink" href="#rowan.core.http.HttpResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a title="rowan.core.http.Statused" class="reference internal" href="#rowan.core.http.Statused"><tt class="xref docutils literal"><span class="pre">rowan.core.http.Statused</span></tt></a></p>
<p>A response generated from a controller indicating that the 
request was correctly handled and a response should be returned to the
user. Instances of this class should be returned from every controller,
controllers may also terminate by raising a <a title="rowan.core.http.HttpError" class="reference internal" href="#rowan.core.http.HttpError"><tt class="xref docutils literal"><span class="pre">HttpError</span></tt></a> instnce.</p>
<dl class="attribute">
<dt id="rowan.core.http.HttpResponse.headers">
<tt class="descname">headers</tt><a class="headerlink" href="#rowan.core.http.HttpResponse.headers" title="Permalink to this definition">¶</a></dt>
<dd>Gets the headers for this request, to return as part of the HTTP response. This property is read-only and intended for internal use.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="rowan.core.http.HttpError">
<em class="property">
class </em><tt class="descclassname">rowan.core.http.</tt><tt class="descname">HttpError</tt><big>(</big><em>message=''</em>, <em>status_code=500</em><big>)</big><a class="headerlink" href="#rowan.core.http.HttpError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref docutils literal"><span class="pre">exceptions.Exception</span></tt>, <a title="rowan.core.http.Statused" class="reference internal" href="#rowan.core.http.Statused"><tt class="xref docutils literal"><span class="pre">rowan.core.http.Statused</span></tt></a></p>
<p>An error raised by a controller to indicate that it was not able 
to process the request through to completion.</p>
<p>Arguments:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">message</span></tt></dt>
<dd>A message describing what went wrong. This should be different
and more specific than the HTTP-code message (e.g. File not Found).
Or else it should be left blank.</dd>
<dt><tt class="docutils literal"><span class="pre">status_code</span></tt></dt>
<dd>The status code that should be associated with this error. If the
error gets all the way back to the user, this will control the 
HTTP response code.</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="rowan.core.http.Http404">
<em class="property">
class </em><tt class="descclassname">rowan.core.http.</tt><tt class="descname">Http404</tt><big>(</big><em>message=''</em><big>)</big><a class="headerlink" href="#rowan.core.http.Http404" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a title="rowan.core.http.HttpError" class="reference internal" href="#rowan.core.http.HttpError"><tt class="xref docutils literal"><span class="pre">rowan.core.http.HttpError</span></tt></a></p>
<p>A <a title="rowan.core.http.HttpError" class="reference internal" href="#rowan.core.http.HttpError"><tt class="xref docutils literal"><span class="pre">HttpError</span></tt></a> subclass for page-not-found errors.</p>
</dd></dl>

<dl class="class">
<dt id="rowan.core.http.Http500">
<em class="property">
class </em><tt class="descclassname">rowan.core.http.</tt><tt class="descname">Http500</tt><big>(</big><em>message=''</em><big>)</big><a class="headerlink" href="#rowan.core.http.Http500" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a title="rowan.core.http.HttpError" class="reference internal" href="#rowan.core.http.HttpError"><tt class="xref docutils literal"><span class="pre">rowan.core.http.HttpError</span></tt></a></p>
<p>A <a title="rowan.core.http.HttpError" class="reference internal" href="#rowan.core.http.HttpError"><tt class="xref docutils literal"><span class="pre">HttpError</span></tt></a> subclass for general server errors.</p>
</dd></dl>

<div class="section" id="internal-functionality">
<h2>Internal Functionality<a class="headerlink" href="#internal-functionality" title="Permalink to this headline">¶</a></h2>
<p>This is intended as an internal base-class and shouldn&#8217;t be needed
outside the framework.</p>
<dl class="class">
<dt id="rowan.core.http.Statused">
<em class="property">
class </em><tt class="descclassname">rowan.core.http.</tt><tt class="descname">Statused</tt><big>(</big><em>status_code</em><big>)</big><a class="headerlink" href="#rowan.core.http.Statused" title="Permalink to this definition">¶</a></dt>
<dd><p>A base class for both kinds of response, normal and exceptional. Both
need to hold the HTTP status code, so this base class provides that
functionality.</p>
<dl class="attribute">
<dt id="rowan.core.http.Statused.status_code_string">
<tt class="descname">status_code_string</tt><a class="headerlink" href="#rowan.core.http.Statused.status_code_string" title="Permalink to this definition">¶</a></dt>
<dd>Human-readable text corresponding to the current status code.</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">Requests, Responses and Errors</a><ul>
<li><a class="reference external" href="#internal-functionality">Internal Functionality</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="controllers.html"
                                  title="previous chapter">Basic Controllers</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="application.html"
                                  title="next chapter">Application</a></p>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="application.html" title="Application"
             >next</a> |</li>
        <li class="right" >
          <a href="controllers.html" title="Basic Controllers"
             >previous</a> |</li>
        <li><a href="../index.html">Rowan v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Ian Millington.
      Last updated on 2010-02-28.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.2.
    </div>
  </body>
</html>